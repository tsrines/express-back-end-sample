{"version":3,"sources":["model.js"],"names":["Model","table","pool","on","err","client","columns","values","query","clause"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;IAEMA,K;AACJ,iBAAYC,KAAZ,EAAmB;AAAA;AACjB,SAAKC,IAAL,GAAYA,UAAZ;AACA,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKC,IAAL,CAAUC,EAAV,CACE,OADF,EAEE,UAACC,GAAD,EAAMC,MAAN;AAAA,8BAA2BD,GAA3B,6BAAiDC,MAAjD;AAAA,KAFF;AAID;;;;;6HAEsBC,O,EAASC,M;;;;;;AACxBC,gBAAAA,K,qCACc,KAAKP,K,cAASK,O,kCAClBC,M,wCACMD,O;iDAEf,KAAKJ,IAAL,CAAUM,KAAV,CAAgBA,KAAhB,C;;;;;;;;;;;;;;;;;;;oHAGIF,O,EAASG,M;;;;;;AAChBD,gBAAAA,K,oBAAkBF,O,mBAAgB,KAAKL,K;AAC3C,oBAAIQ,MAAJ,EAAYD,KAAK,IAAIC,MAAT;kDACL,KAAKP,IAAL,CAAUM,KAAV,CAAgBA,KAAhB,C;;;;;;;;;;;;;;;;;;;;eAIIR,K","sourceRoot":"/Users/rines/Development/code/mod6/NodeJS/express-api-template/src/models/","sourcesContent":["import { pool } from './pool';\n\nclass Model {\n  constructor(table) {\n    this.pool = pool;\n    this.table = table;\n    this.pool.on(\n      'error',\n      (err, client) => `Error, ${err}, on idle client${client}`\n    );\n  }\n\n  async insertWithReturn(columns, values) {\n    const query = `\n          INSERT INTO ${this.table}(${columns})\n          VALUES (${values})\n          RETURNING id, ${columns}\n      `;\n    return this.pool.query(query);\n  }\n\n  async select(columns, clause) {\n    let query = `SELECT ${columns} FROM ${this.table}`;\n    if (clause) query += clause;\n    return this.pool.query(query);\n  }\n}\n\nexport default Model;\n"]}